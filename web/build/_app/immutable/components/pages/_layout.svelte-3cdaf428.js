import{S as Q,i as W,s as X,H as Y,k as v,q as D,a as O,l as p,m,r as P,h as i,c as w,n as t,b as U,I as c,u as G,J as Z,K as $,L as x,f as ee,t as ae,M as te,o as se,N as le,O as re}from"../../chunks/singletons-1c29ffd9.js";import{p as ie}from"../../chunks/stores-28995cd9.js";import{P as ne,a as q}from"../../chunks/public-9d42eb47.js";function oe(_){let a,e,l;return{c(){a=v("li"),e=v("a"),l=D("Login"),this.h()},l(o){a=p(o,"LI",{class:!0});var f=m(a);e=p(f,"A",{class:!0,href:!0});var n=m(e);l=P(n,"Login"),n.forEach(i),f.forEach(i),this.h()},h(){t(e,"class","nav-link"),t(e,"href","/login"),t(a,"class","nav-item")},m(o,f){U(o,a,f),c(a,e),c(e,l)},p:le,d(o){o&&i(a)}}}function ue(_){let a,e,l,o=_[1].email+"",f,n,h,b,k,L,d,s=_[1].admin&&F();return{c(){s&&s.c(),a=O(),e=v("li"),l=v("a"),f=D(o),n=O(),h=v("li"),b=v("a"),k=D("Logout"),this.h()},l(u){s&&s.l(u),a=w(u),e=p(u,"LI",{class:!0});var g=m(e);l=p(g,"A",{class:!0,href:!0});var I=m(l);f=P(I,o),I.forEach(i),g.forEach(i),n=w(u),h=p(u,"LI",{class:!0});var C=m(h);b=p(C,"A",{class:!0,href:!0});var T=m(b);k=P(T,"Logout"),T.forEach(i),C.forEach(i),this.h()},h(){t(l,"class","nav-link disabled"),t(l,"href","/users/me"),t(e,"class","nav-item"),t(b,"class","nav-link"),t(b,"href","/login"),t(h,"class","nav-item")},m(u,g){s&&s.m(u,g),U(u,a,g),U(u,e,g),c(e,l),c(l,f),U(u,n,g),U(u,h,g),c(h,b),c(b,k),L||(d=re(b,"click",_[2]),L=!0)},p(u,g){u[1].admin?s||(s=F(),s.c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null),g&2&&o!==(o=u[1].email+"")&&G(f,o)},d(u){s&&s.d(u),u&&i(a),u&&i(e),u&&i(n),u&&i(h),L=!1,d()}}}function F(_){let a,e,l;return{c(){a=v("li"),e=v("a"),l=D("Users Admin"),this.h()},l(o){a=p(o,"LI",{class:!0});var f=m(a);e=p(f,"A",{class:!0,href:!0});var n=m(e);l=P(n,"Users Admin"),n.forEach(i),f.forEach(i),this.h()},h(){t(e,"class","nav-link"),t(e,"href","/users"),t(a,"class","nav-item")},m(o,f){U(o,a,f),c(a,e),c(e,l)},d(o){o&&i(a)}}}function ce(_){let a,e,l,o,f,n,h,b,k,L,d,s,u,g,I,C,T;function B(r,y){return r[1]?ue:oe}let S=B(_),A=S(_);const V=_[5].default,E=Y(V,_,_[4],null);return{c(){a=v("nav"),e=v("div"),l=v("a"),o=D(_[0]),f=O(),n=v("button"),h=v("span"),b=O(),k=v("div"),L=v("ul"),d=v("li"),s=v("a"),u=D("Tickets"),g=O(),I=v("ul"),A.c(),C=O(),E&&E.c(),this.h()},l(r){a=p(r,"NAV",{class:!0});var y=m(a);e=p(y,"DIV",{class:!0});var N=m(e);l=p(N,"A",{class:!0,href:!0});var J=m(l);o=P(J,_[0]),J.forEach(i),f=w(N),n=p(N,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0,"aria-expanded":!0,"aria-label":!0});var R=m(n);h=p(R,"SPAN",{class:!0}),m(h).forEach(i),R.forEach(i),b=w(N),k=p(N,"DIV",{class:!0,id:!0});var M=m(k);L=p(M,"UL",{class:!0});var j=m(L);d=p(j,"LI",{class:!0});var H=m(d);s=p(H,"A",{class:!0,"aria-current":!0,href:!0});var K=m(s);u=P(K,"Tickets"),K.forEach(i),H.forEach(i),j.forEach(i),g=w(M),I=p(M,"UL",{class:!0});var z=m(I);A.l(z),z.forEach(i),M.forEach(i),N.forEach(i),y.forEach(i),C=w(r),E&&E.l(r),this.h()},h(){t(l,"class","navbar-brand"),t(l,"href","/"),t(h,"class","navbar-toggler-icon"),t(n,"class","navbar-toggler"),t(n,"type","button"),t(n,"data-bs-toggle","collapse"),t(n,"data-bs-target","#navbarCollapse"),t(n,"aria-controls","navbarCollapse"),t(n,"aria-expanded","false"),t(n,"aria-label","Toggle navigation"),t(s,"class","nav-link active"),t(s,"aria-current","page"),t(s,"href","/"),t(d,"class","nav-item"),t(L,"class","navbar-nav me-auto mb-2 mb-md-0"),t(I,"class","navbar-nav mb-2 mb-md-0"),t(k,"class","collapse navbar-collapse"),t(k,"id","navbarCollapse"),t(e,"class","container-fluid"),t(a,"class","navbar navbar-expand-md navbar-dark fixed-top bg-indigo-400 navbar-static-top svelte-1huuwna")},m(r,y){U(r,a,y),c(a,e),c(e,l),c(l,o),c(e,f),c(e,n),c(n,h),c(e,b),c(e,k),c(k,L),c(L,d),c(d,s),c(s,u),c(k,g),c(k,I),A.m(I,null),U(r,C,y),E&&E.m(r,y),T=!0},p(r,[y]){(!T||y&1)&&G(o,r[0]),S===(S=B(r))&&A?A.p(r,y):(A.d(1),A=S(r),A&&(A.c(),A.m(I,null))),E&&E.p&&(!T||y&16)&&Z(E,V,r,r[4],T?x(V,r[4],y,null):$(r[4]),null)},i(r){T||(ee(E,r),T=!0)},o(r){ae(E,r),T=!1},d(r){r&&i(a),A.d(),r&&i(C),E&&E.d(r)}}}function fe(_,a,e){let l;te(_,ie,d=>e(3,l=d));let{$$slots:o={},$$scope:f}=a,n=ne,h="Dr. Ticket M.D.";se(async()=>{const d=await fetch(n+"app/name");let s=await d.text();d.ok&&e(0,h=s)});let b;function k(d){let s=q.get("user");e(1,b=s?JSON.parse(s):void 0)}function L(){q.remove("jwt"),q.remove("user"),e(1,b=void 0)}return _.$$set=d=>{"$$scope"in d&&e(4,f=d.$$scope)},_.$$.update=()=>{_.$$.dirty&8&&k(l.url.pathname)},[h,b,L,l,f,o]}class pe extends Q{constructor(a){super(),W(this,a,fe,ce,X,{})}}export{pe as default};
