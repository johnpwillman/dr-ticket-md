import{S as Q,i as W,s as X,H as Y,k as p,q as D,a as O,l as v,m,r as P,h as n,c as w,n as t,b as U,I as c,u as G,J as Z,K as $,L as x,f as ee,t as ae,M as te,o as se,N as le,O as re}from"../../chunks/singletons-8840c4b5.js";import{p as ne}from"../../chunks/stores-8d6ba2d0.js";import{P as ie,a as V}from"../../chunks/public-9d42eb47.js";function oe(_){let a,e,l;return{c(){a=p("li"),e=p("a"),l=D("Login"),this.h()},l(o){a=v(o,"LI",{class:!0});var f=m(a);e=v(f,"A",{class:!0,href:!0});var i=m(e);l=P(i,"Login"),i.forEach(n),f.forEach(n),this.h()},h(){t(e,"class","nav-link"),t(e,"href","/login"),t(a,"class","nav-item")},m(o,f){U(o,a,f),c(a,e),c(e,l)},p:le,d(o){o&&n(a)}}}function ue(_){let a,e,l,o=_[1].email+"",f,i,h,b,k,L,d,s=_[1].admin&&F();return{c(){s&&s.c(),a=O(),e=p("li"),l=p("a"),f=D(o),i=O(),h=p("li"),b=p("a"),k=D("Logout"),this.h()},l(u){s&&s.l(u),a=w(u),e=v(u,"LI",{class:!0});var g=m(e);l=v(g,"A",{class:!0,href:!0});var I=m(l);f=P(I,o),I.forEach(n),g.forEach(n),i=w(u),h=v(u,"LI",{class:!0});var C=m(h);b=v(C,"A",{class:!0,href:!0});var T=m(b);k=P(T,"Logout"),T.forEach(n),C.forEach(n),this.h()},h(){t(l,"class","nav-link disabled"),t(l,"href","/users/me"),t(e,"class","nav-item"),t(b,"class","nav-link"),t(b,"href","/login"),t(h,"class","nav-item")},m(u,g){s&&s.m(u,g),U(u,a,g),U(u,e,g),c(e,l),c(l,f),U(u,i,g),U(u,h,g),c(h,b),c(b,k),L||(d=re(b,"click",_[2]),L=!0)},p(u,g){u[1].admin?s||(s=F(),s.c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null),g&2&&o!==(o=u[1].email+"")&&G(f,o)},d(u){s&&s.d(u),u&&n(a),u&&n(e),u&&n(i),u&&n(h),L=!1,d()}}}function F(_){let a,e,l;return{c(){a=p("li"),e=p("a"),l=D("Users Admin"),this.h()},l(o){a=v(o,"LI",{class:!0});var f=m(a);e=v(f,"A",{class:!0,href:!0});var i=m(e);l=P(i,"Users Admin"),i.forEach(n),f.forEach(n),this.h()},h(){t(e,"class","nav-link"),t(e,"href","/users"),t(a,"class","nav-item")},m(o,f){U(o,a,f),c(a,e),c(e,l)},d(o){o&&n(a)}}}function ce(_){let a,e,l,o,f,i,h,b,k,L,d,s,u,g,I,C,T;function j(r,y){return r[1]?ue:oe}let S=j(_),A=S(_);const M=_[5].default,E=Y(M,_,_[4],null);return{c(){a=p("nav"),e=p("div"),l=p("a"),o=D(_[0]),f=O(),i=p("button"),h=p("span"),b=O(),k=p("div"),L=p("ul"),d=p("li"),s=p("a"),u=D("Tickets"),g=O(),I=p("ul"),A.c(),C=O(),E&&E.c(),this.h()},l(r){a=v(r,"NAV",{class:!0});var y=m(a);e=v(y,"DIV",{class:!0});var N=m(e);l=v(N,"A",{class:!0,href:!0});var q=m(l);o=P(q,_[0]),q.forEach(n),f=w(N),i=v(N,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-controls":!0,"aria-expanded":!0,"aria-label":!0});var B=m(i);h=v(B,"SPAN",{class:!0}),m(h).forEach(n),B.forEach(n),b=w(N),k=v(N,"DIV",{class:!0,id:!0});var J=m(k);L=v(J,"UL",{class:!0});var R=m(L);d=v(R,"LI",{class:!0});var H=m(d);s=v(H,"A",{class:!0,"aria-current":!0,href:!0});var K=m(s);u=P(K,"Tickets"),K.forEach(n),H.forEach(n),R.forEach(n),g=w(J),I=v(J,"UL",{class:!0});var z=m(I);A.l(z),z.forEach(n),J.forEach(n),N.forEach(n),y.forEach(n),C=w(r),E&&E.l(r),this.h()},h(){t(l,"class","navbar-brand"),t(l,"href","/"),t(h,"class","navbar-toggler-icon"),t(i,"class","navbar-toggler"),t(i,"type","button"),t(i,"data-bs-toggle","collapse"),t(i,"data-bs-target","#navbarCollapse"),t(i,"aria-controls","navbarCollapse"),t(i,"aria-expanded","false"),t(i,"aria-label","Toggle navigation"),t(s,"class","nav-link active"),t(s,"aria-current","page"),t(s,"href","/"),t(d,"class","nav-item"),t(L,"class","navbar-nav me-auto mb-2 mb-md-0"),t(I,"class","navbar-nav mb-2 mb-md-0"),t(k,"class","collapse navbar-collapse"),t(k,"id","navbarCollapse"),t(e,"class","container-fluid"),t(a,"class","navbar navbar-expand-md navbar-dark fixed-top bg-indigo-400 navbar-static-top svelte-1huuwna")},m(r,y){U(r,a,y),c(a,e),c(e,l),c(l,o),c(e,f),c(e,i),c(i,h),c(e,b),c(e,k),c(k,L),c(L,d),c(d,s),c(s,u),c(k,g),c(k,I),A.m(I,null),U(r,C,y),E&&E.m(r,y),T=!0},p(r,[y]){(!T||y&1)&&G(o,r[0]),S===(S=j(r))&&A?A.p(r,y):(A.d(1),A=S(r),A&&(A.c(),A.m(I,null))),E&&E.p&&(!T||y&16)&&Z(E,M,r,r[4],T?x(M,r[4],y,null):$(r[4]),null)},i(r){T||(ee(E,r),T=!0)},o(r){ae(E,r),T=!1},d(r){r&&n(a),A.d(),r&&n(C),E&&E.d(r)}}}function fe(_,a,e){let l;te(_,ne,d=>e(3,l=d));let{$$slots:o={},$$scope:f}=a,i=ie,h="Dr. Ticket M.D.";se(async()=>{const d=await fetch(i+"app/");if(d.ok){let s=await d.json();e(0,h=s.name)}});let b;function k(d){let s=V.get("user");e(1,b=s?JSON.parse(s):void 0)}function L(){V.remove("jwt"),V.remove("user"),e(1,b=void 0)}return _.$$set=d=>{"$$scope"in d&&e(4,f=d.$$scope)},_.$$.update=()=>{_.$$.dirty&8&&k(l.url.pathname)},[h,b,L,l,f,o]}class ve extends Q{constructor(a){super(),W(this,a,fe,ce,X,{})}}export{ve as default};
